# <b> App Thinning </b>
애플리케이션이 디바이스에 설치될 때, 앱 스토어와 운영체제가 디바이스의 특성에 맞게 설치되도록 하는 설치 최적화 기술이다.  
최소한의 디스크 사용과 빠른 다운로드를 제공한다.  
슬라이싱, 비트코드, 주문형 리소스로 구성된다.  

<br>
<hr>
<br>

## <b> 슬라이싱(Slicing) </b>
- 다양한 기기와 운영체제 버전에 대하여 여러가지 app bundle의 변형을 생성하고 전달하는 과정  
    - 변형은 실행가능한 아키텍처, 리소스만 포함한다.

- 앱 전체의 버전을 계속 개발하고 앱스토어 커넥트에 업로드 하면 앱스토어는 앱이 지원하는 기기 및 운영체제 버전에 따라 다양한 변형을 생성하고 제공한다.

- 사용자가 앱 스토어를 통해 앱을 설치하게 되면 사용자의 기기 및 기기의 운영체제 버전에 맞춰 변형이 다운도르 된다.

- Xcode는 개발중에 슬라이싱을 시뮬레이션 하므로 앱의 변형을 만들고 테스트 할 수 있다.
    - 기기 및 시뮬레이터에서 앱을 빌드하고 실행할 때 Xcode는 앱을 슬라이스 한다.
    - 아카이브를 생성할 때, Xcode는 앱의 전체 버전을 포함, 아카이브에서 변형을 내보낼 수 있다.

<br>
<hr>
<br>

## <b> 비트코드 (Bit Code) </b>
- 컴파일된 프로그램의 중간표현이다.
  
- 비트코드가 포함된 앱스토어 커넥트에 업로드한 앱은 앱스토어에서 컴파일 및 연결된다.
  
- 비트코드를 포함하면 앱의 새 버전을 앱스토어에 제출할 필요 없이 향후 앱 바이너리를 다시 최적화할 수 있다.

- iOS앱의 경우 비트코드가 default이면서 optional이다.
  - watchOS, tvOS의 앱들은 비트코드가 필요하다.
  - 비트코드를 제공하려면 앱 번들의 모든 앱과 프레임워크에 전부 비트코드가 포함되어야 한다.

<br>
<hr>
<br>

## <b> 주문형 리소스 </b>
- 이미지나 사운드같은 리소스를 키워드로 태그 할 수 있고, 태크별로 그룹을 요청할 수 있다.
  - 앱스토어에 IPA와 별도로 저장이 된다.

- 앱스토어는 Apple 서버의 리소스를 호스팅, 다운로드 관리, 주문형 리소스를 분할해 앱의 변형을 더욱 최적화 한다.

- 필요할 때 다운로드 하는 것

<br>
<hr>
<br>

## <b> 이점 </b> 

<br>

### <b> 더 작은 앱 크기 </b>
사용자가 다운로드한 앱 번들의 크기가 작아지면 다운로드 속도가 빨라지고 기기에 더 많은 저장 공간이 생긴다.

<br>

### <b> 앱 리소스의 지연 로딩 </b>
앱에는 특정상태에서만 사용되는 리소스가 있다. -> 앱이 적절한 상태에 들어갈 가능성이 있을 때 리소스가 요청된다. 

<br>

### <b> 거의 사용하지 않는 리소스의 원격 저장 </b>
앱에 자주 사용하지 않는 리소스가 있다. -> 리소스는 필요할 때만 요청 

### <b> 인앱 구매 리소스의 원격 저장 </b>
앱은 추가 리소스가 포함된 인앱구매를 제공 -> 구매한 모듈에 대한 리소스는 앱이 시작된 후 앱에서 요청
